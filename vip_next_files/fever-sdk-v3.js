"use strict";function ownKeys(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)}return r}function _objectSpread(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?ownKeys(Object(r),!0).forEach(function(e){_defineProperty(t,e,r[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):ownKeys(Object(r)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))})}return t}function _defineProperty(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function _objectWithoutProperties(e,t){if(null==e)return{};var r,n,o=_objectWithoutPropertiesLoose(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],0<=t.indexOf(r)||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}function _objectWithoutPropertiesLoose(e,t){if(null==e)return{};var r,n,o={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],0<=t.indexOf(r)||(o[r]=e[r]);return o}function _slicedToArray(e,t){return _arrayWithHoles(e)||_iterableToArrayLimit(e,t)||_unsupportedIterableToArray(e,t)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _unsupportedIterableToArray(e,t){if(e){if("string"==typeof e)return _arrayLikeToArray(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(r):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?_arrayLikeToArray(e,t):void 0}}function _arrayLikeToArray(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function _iterableToArrayLimit(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var r=[],n=!0,o=!1,i=void 0;try{for(var a,c=e[Symbol.iterator]();!(n=(a=c.next()).done)&&(r.push(a.value),!t||r.length!==t);n=!0);}catch(e){o=!0,i=e}finally{try{n||null==c.return||c.return()}finally{if(o)throw i}}return r}}function _arrayWithHoles(e){if(Array.isArray(e))return e}!function(){function t(e){return function(e){return[].slice.call(e||[])}(document.getElementsByClassName(e||""))}function u(r){return Object.keys(r.dataset).reduce(function(e,t){return e[t]=r.dataset[t],e},{})}function r(){var e=t("fever-container"),n=[];return e.forEach(function(e){var t=e.dataset.promoUuid,r=e.dataset.sponsoruuid;!t&&!r||function(t){return Boolean(m.filter(function(e){return e===t})[0])}(e)||(m.push(e),n.push(e))}),n}function n(){var e=_objectSpread({},window.location.search.substring(1).split("&").filter(function(e){return e}).reduce(function(e,t){var r=_slicedToArray(t.split("="),2),n=r[0],o=r[1];return e[n]=o,e},{}),{scenes:"plugin",parentUrl:encodeURIComponent(window.location.href)}),t=(e.utm_source,e.utm_medium,e.utm_campaign,e.utm_term,e.utm_content,function(e){var t=0<arguments.length&&void 0!==e?e:{};return Object.entries(t).map(function(e){var t=_slicedToArray(e,2),r=t[0],n=t[1];return"".concat(r,"=").concat(n)}).join("&")}(_objectWithoutProperties(e,["utm_source","utm_medium","utm_campaign","utm_term","utm_content"])));return t?"?".concat(t):""}function l(e){return"true"===e.gallery?v+"//"+e.domain+"/ugc/"+e.promoUuid+"/"+e.promoId+"/gallery"+n():"true"===e.pointsquery?v+"//"+e.domain+"/point/"+e.sponsoruuid+"/"+e.pointpooluuid+"/"+e.loginmethod+"/login":v+"//"+e.domain+"/promotions/"+e.promoUuid+"/"+e.promoId+"/join"+n()}function i(e){var t=e.getBoundingClientRect();return{left:t.left+window.pageXOffset,top:t.top+window.pageYOffset}}function a(t){try{window.scroll({top:t,behavior:"smooth"})}catch(e){window.scroll(0,t)}}function o(e,t,r,n){var o="center"===t?window.innerHeight/2-n:0;a(i(e).top+r-n-o)}function c(){window.addEventListener("message",function(e){var t=function(t){return y.filter(function(e){return e.contentWindow===t})[0]}(e.source);t&&function(e,t,r){if("string"!=typeof e||-1===e.indexOf("feverPage:"))switch(e.event){case"@feverevent/height-resize":t.style.height=e.payload.height+"px";break;case"@feverevent/scroll-into-view":o(t,e.payload.block,e.payload.elementTopOffsetWithFrame,Number(r.topOffset||0));break;case"@feverevent/parent-redirect":window.location.href=e.payload.url}else{var n=e.split(":")[1];t.style.height=n+"px"}}(e.data,t,u(t.parentElement))})}function o(t){if("function"==typeof t.scrollIntoView)try{t.scrollIntoView({behavior:"smooth"})}catch(e){t.scrollIntoView()}}function s(){var e=r(),s=null;e.forEach(function(e){var t=function(e){var t=u(e),r=["promoUuid","promoId","domain"].some(function(e){return void 0===t[e]}),n=["domain","sponsoruuid","pointpooluuid","loginmethod"].some(function(e){return void 0===t[e]});return{attr:t,invalid:r,pointInvalid:n}}(e);console.log("result",t);var r=t.attr.gallery,n=t.attr.pointsQuery,o={};if("true"!==r&&"true"!==n&&(o=function(e){var t=sessionStorage.getItem(e);return(t?JSON.parse(t):{}).value||{}}(d)),!t.invalid){var i=l(t.attr),a=document.createElement("iframe"),c=t.attr.promoUuid;a.setAttribute("title",t.attr.promoUuid),a.setAttribute("scrolling","no"),a.setAttribute("seamless","seamless"),a.setAttribute("frameBorder","0"),a.setAttribute("allow","camera; clipboard-read; clipboard-write *"),a.classList.add("fever-plugin"),p?(a.classList.add("fever-lazyload"),a.dataset.src=i,f.observe(a)):(a.src=i,y.push(a)),e.insertBefore(a,null),c===o.promoUUID&&(s=a)}if(!t.pointInvalid){i=l(t.attr);(a=document.createElement("iframe")).setAttribute("title",t.attr.sponsorUuid),a.setAttribute("scrolling","no"),a.setAttribute("seamless","seamless"),a.setAttribute("frameBorder","0"),a.setAttribute("allow","camera *"),a.classList.add("fever-plugin"),p?(a.classList.add("fever-lazyload"),a.dataset.src=i,f.observe(a)):(a.src=i,y.push(a)),e.insertBefore(a,null)}}),Boolean(s)&&(o(s),function(e){sessionStorage.removeItem(e)}(d))}try{var f,d="zines_scrollIntoPromoSectionParams",p=!1,m=[],y=[],v="https:"===document.location.protocol?"https:":"http:";!function(e){function t(e){e&&(p=!0,f=new IntersectionObserver(function(e){e.forEach(function(e){if(e.isIntersecting){var t=e.target;t.src=t.dataset.src,t.onload=function(){t.classList.remove("fever-lazyload")},t.onerror=function(){t.classList.remove("fever-lazyload")},y.push(t),f.unobserve(t)}})},{rootMargin:"200px 0px"})),function(){var e,t=document.createElement("style");t.setAttribute("nonce",(null===(e=window)||void 0===e?void 0:e.nonceForCSP)||""),t.textContent=".fever-plugin{width:100%;display:block;}.fever-lazyload{position:relative;z-index:-1;height:500px;background:#ccc;animation:1.5s ease 0s infinite normal none running placeHolderAnimate;}@keyframes placeHolderAnimate{0%,100%{opacity:.3}50%{opacity:1}",document.head.insertBefore(t,null)}(),c(),s()}if(e.enableLazyLoad)if(void 0===window.IntersectionObserver){var r,n=document.createElement("script");n.src="https://cdn.jsdelivr.net/npm/intersection-observer@0.6.0/intersection-observer.min.js",n.setAttribute("nonce",(null===(r=window)||void 0===r?void 0:r.nonceForCSP)||""),n.onload=function(){t(!0)},n.onerror=function(){t(!1)},document.body.insertBefore(n,null)}else t(!0);else t(!1)}({enableLazyLoad:!1}),window._build_fever_plugin=s}catch(e){console.log("Fever sdk execution failed:",e)}}();